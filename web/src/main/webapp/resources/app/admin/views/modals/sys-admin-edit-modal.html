<div class="modal-header">
    <h3 class="modal-title">{{'FILL_IN_INFORMATION_ABOUT_EMPLOYEE'
        | translate}}</h3>
</div>

<div class="modal-body">

    <form name="sysAdminForm" novalidate ng-hide="showRestore"
          ng-submit="!sysAdminForm.phone.$error.pattern
          && !sysAdminForm.email.$error.pattern && !sysAdminForm.email.$error.required
          && !sysAdminForm.firstName.$error.pattern && !sysAdminForm.firstName.$error.required
          && !sysAdminForm.lastName.$error.pattern && !sysAdminForm.lastName.$error.required
          && !sysAdminForm.middleName.$error.pattern && !sysAdminForm.middleName.$error.required
          && onsysAdminFormSubmit()">

        <div class="row">

            <div id="po" class="form-group col-md-8">

        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">{{'GENERAL_INFORMATION' | translate }}</div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-4">
                        <label class="control-label">{{'LAST_NAME' |translate }}*</label>
                    </div>
                    <div class="form-group col-md-8" show-errors>
                        <input type="text" ng-model="user.lastName"

                               popover="{{'ALPHABETIC_INFO' | translate}}"
                               popover-trigger="focus" popover-placement="right"
                               ng-pattern="FIRST_LAST_NAME_REGEX"
                               id="lastName" name="lastName" class="form-control" required>

                        <div ng-show="sysAdminForm.$submitted || (sysAdminForm.lastName.$touched   && !sysAdminForm.lastName.$pristine)
                        || (sysAdminForm.lastName.$dirty)">
                            <p class="validation-message" ng-if="sysAdminForm.lastName.$error.required">
                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                {{'REQUIRED' | translate}}
                            </p>

                            <p class="validation-message" ng-if="sysAdminForm.lastName.$error.pattern">
                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                {{'INCORRECT_VALUE_LAST_NAME_ADD_EMPLOYEE' | translate }}
                            </p>
                        </div>
                    </div>

                    <div class="form-group col-md-4">
                        <label class="control-label">{{'FIRST_NAME' |translate }}*</label>
                    </div>
                    <div class="form-group col-md-8" ng-class="firstNameValidation.css" show-errors>
                        <input type="text" ng-model="user.firstName"

                               popover="{{'ALPHABETIC_INFO' | translate}}"
                               popover-trigger="focus" popover-placement="right"
                               id="firstName" ng-pattern="FIRST_LAST_NAME_REGEX"
                               name="firstName" class="form-control" required>

                        <div ng-show="sysAdminForm.$submitted || (sysAdminForm.firstName.$touched  && !sysAdminForm.firstName.$pristine)
                        || (sysAdminForm.firstName.$dirty)">
                            <p class="validation-message" ng-if="sysAdminForm.firstName.$error.required">
                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                {{'REQUIRED' | translate}}
                            </p>

                            <p class="validation-message" ng-if="sysAdminForm.firstName.$error.pattern">
                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                {{'INCORRECT_VALUE_FIRST_NAME_ADD_EMPLOYEE' | translate }}
                            </p>
                        </div>
                    </div>

                    <div class="form-group col-md-4">
                        <label class="control-label">{{'MIDDLE_NAME' | translate }}*</label>
                    </div>
                    <div class="form-group col-md-8" ng-class="middleNameValidation.css" show-errors>
                        <input type="text" ng-model="user.middleName"
                               ng-pattern="MIDDLE_NAME_REGEX"

                               popover="{{'MIDDLE_NAME_INFO' | translate}}"
                               popover-trigger="focus" popover-placement="right"
                               id="middleName" name="middleName" class="form-control" required>
                        <div ng-show="sysAdminForm.$submitted || (sysAdminForm.middleName.$touched && !sysAdminForm.middleName.$pristine)||
                         (sysAdminForm.middleName.$dirty)">
                            <p class="validation-message" ng-if="sysAdminForm.middleName.$error.required">
                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                {{'REQUIRED' | translate}}
                            </p>
                            <p class="validation-message" ng-if="sysAdminForm.middleName.$error.pattern">
                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                {{'INCORRECT_VALUE_MIDDLE_NAME_ADD_EMPLOYEE' | translate }}
                            </p>
                        </div>
                    </div>

                    <div class="form-group col-md-4">
                        <label class="control-label">{{'PHONE_NUMBER_TWO' | translate }}</label>
                    </div>
                    <div class="form-group col-md-8 " ng-class="phoneNumberValidation.css" show-errors>
                        <div class="input-group">
                            <span class="input-group-addon" id="basic-addon-code">+380</span>
                            <input
                                    type="text" ng-model="user.phone"
                                    ng-pattern="PHONE_REGEX" placeholder="XXXXXXXXX"
                                    id="phone" name="phone" class="form-control">
                            <span class="input-group-addon">{{'SECOND_PHONE' |translate}}</span>
								<span class="input-group-addon">
								 	<input type="checkbox" ng-model="checkboxModel">
								</span>
                        </div>
                        <div ng-show="sysAdminForm.$submitted || (sysAdminForm.phone.$touched && !sysAdminForm.phone.$pristine)
                        || (sysAdminForm.phone.$dirty)">
                            <p class="validation-message" ng-if="sysAdminForm.phone.$error.pattern">
                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                {{'INCORRECT_VALUE_PHONE_ADD_EMPLOYEE' | translate }}
                            </p>
                        </div>
                    </div>

                    <div class="form-group" ng-show="checkboxModel">
                        <div class="col-md-4 form-group">
                            <label for="phoneNumberSecond">
                                {{'SECOND_PHONE' | translate}} </label>
                        </div>
                        <div class="col-md-8 form-group" show-errors>
                            <div>
                                <div class="input-group" ng-show="checkboxModel">

                                    <span class="input-group-addon" id="basic-addon-code">+380</span>
                                    <input id="phoneNumberSecond" name="phoneNumberSecond" class="form-control"
                                           ng-model="user.secondPhone"
                                           placeholder="XXXXXXXXX" ng-pattern="PHONE_REGEX_SECOND"
                                           popover="{{'PHONE_NUMBER_INFO' | translate}}"
                                           popover-trigger="focus" popover-placement="right">
                                </div>
                        <span class="form-control-feedback glyphicon  form-horizontal glyphicon glyphicon-ok-sign"
                              id="okFeedBack" ng-show="checkboxModel"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <p class="help-block col-md-8 col-md-offset-2"
                               ng-if="clientForm.phoneNumberSecond.$error.pattern">
                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                {{'PHONE_NUMBER_ERROR' | translate}}
                            </p>
                        </div>
                    </div>

                    <div class="form-group col-md-4">
                        <label class="control-label">{{'EMAIL' | translate }}*</label>
                    </div>
                    <div class="form-group col-md-8" ng-class="emailValidation.css" show-errors>
                        <input type="text" ng-model="user.email"
                               ng-pattern="EMAIL_REGEX"

                               placeholder="example@gmail.com"
                               id="email" name="email" class="form-control" required>

                        <div ng-show="sysAdminForm.$submitted || (sysAdminForm.email.$touched && !sysAdminForm.email.$pristine)
                        || (sysAdminForm.email.$dirty)">
                            <p class="validation-message" ng-if="sysAdminForm.email.$error.required">
                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                {{'REQUIRED' | translate}}
                            </p>

                            <p class="validation-message" ng-if="sysAdminForm.email.$error.pattern">
                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                {{'INCORRECT_VALUE_EMAIL_ADD_EMPLOYEE' | translate }}
                            </p>
                        </div>
                    </div>
                </div>

            </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">{{'ACCOUNT_INFORMATION' | translate }}</div>
            <div class="panel-body">

                <div class="form-group col-md-4">
                    <label class="control-label">{{'LOGIN_TWO' | translate }}</label>
                </div>
                <div class="form-group col-md-8" ng-class="usernameValidation.css">
                    <input type="text" ng-model="user.username" readonly
                           ng-model-options="{debounce: 350}" ng-change="checkFirstName('login')"
                           id="username" name="username" class="form-control" required>
                </div>
                <div>
                    <div class="form-group col-md-4">
                        <label class="control-label">{{'PASSWORD_TWO' | translate}}</label>
                    </div>

                    <div class="form-group col-md-8">
                        <button type="submit" class="btn btn-warning"
                                ng-click="changePassword()" ng-hide="generationMessage">{{'GENERATE_PASSWORD' |
                            translate}}
                        </button>
                    </div>
                    <div class="form-group col-md-8" ng-show="generationMessage"> {{'GENERATE_PASSWORD_OK' |
                        translate}}</button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-primary">
                        <div class="panel-heading">{{'ADDRESS' | translate }}</div>
                        <div class="panel-body">
                            <div>
                                <div class="row">
                                    <div class="form-group col-md-4">

                                        <label class="control-label">{{'REGION' | translate}}</label>
                                    </div>
                                    <div class="form-group col-md-8" show-errors>
                                        <ui-select class="form-control" type="text" theme="select2"
                                                   ng-model="selectedValues.selectedRegion"
                                                   on-select="receiveDistricts(selectedValues.selectedRegion)"
                                                   name="region" id="region" required>
                                            <ui-select-match placeholder="Оберіть область" allow-clear="true">
                                                {{$select.selected.designation}}
                                            </ui-select-match>
                                            <ui-select-choices repeat="region in regions | filter: $select.search">
                                                <span ng-bind-html="region.designation"></span>
                                            </ui-select-choices>
                                        </ui-select>
                                        <p class="help-block"  ng-show="organizationForm.$submitted || selectedValues.selectedRegion.$touched">
                                            <span class="glyphicon glyphicon-exclamation-sign"></span>
                                            {{'TYPEAHEAD_ERROR' | translate}}
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-4">
                                        <label for="district" class="control-label">
                                            {{'DISTRICT' | translate}} </label>
                                        </label>
                                    </div>
                                    <div class="form-group col-md-8" show-errors>
                                        <ui-select class="form-control" type="text" theme="select2"
                                                   ng-model="selectedValues.selectedDistrict"
                                                   on-select="receiveLocalities(selectedValues.selectedDistrict)"
                                                   ng-disabled="!selectedValues.selectedRegion"
                                                   name="district" id="district" required>
                                            <ui-select-match placeholder="Оберіть район" allow-clear="true">
                                                {{$select.selected.designation}}
                                            </ui-select-match>
                                            <ui-select-choices repeat="district in districts | filter: $select.search">
                                                <span ng-bind-html="district.designation"></span>
                                            </ui-select-choices>
                                        </ui-select>
                                        <p class="help-block"  ng-show="organizationForm.$submitted || selectedValues.selectedDistrict.$touched">
                                            <span class="glyphicon glyphicon-exclamation-sign"></span>
                                            {{'TYPEAHEAD_ERROR' | translate}}
                                        </p>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="form-group col-md-4">
                                        <label for="locality" class="control-label">
                                            {{'LOCALITY' | translate}}
                                        </label>
                                    </div>
                                    <div class="form-group col-md-8" show-errors>
                                        <ui-select class="form-control" type="text" theme="select2"
                                                   ng-model="selectedValues.selectedLocality"
                                                   ng-disabled="!selectedValues.selectedDistrict"
                                                   on-select="receiveStreets(selectedValues.selectedLocality)"
                                                   name="locality" id="locality" required>
                                            <ui-select-match placeholder="Оберіть населений пункт" allow-clear="true">
                                                {{$select.selected.designation}}
                                            </ui-select-match>
                                            <ui-select-choices repeat="locality in localities | filter: $select.search">
                                                <span ng-bind-html="locality.designation"></span>
                                            </ui-select-choices>
                                        </ui-select>
                                        <p class="help-block"  ng-show="organizationForm.$submitted || selectedValues.selectedLocality.$touched">
                                            <span class="glyphicon glyphicon-exclamation-sign"></span>
                                            {{'TYPEAHEAD_ERROR' | translate}}
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-4">
                                        <label class="control-label">{{'STREET_TWO' | translate
                                            }} </label>
                                    </div>
                                    <div class="form-group col-md-8" show-errors>
                                        <input name="street" class="form-control"
                                               type="text" id="street"
                                               ng-model="selectedValues.selectedStreet"
                                               ng-disabled="!selectedValues.selectedLocality"
                                               typeahead="street as street.designation for street in streets | filter: $viewValue | limitTo: 4"
                                               typeahead-editable="false" required>
                                        <div ng-show="organizationFormData.$submitted || selectedValues.selectedStreet.$touched" >
                                            <p class="help-block" ng-if="!selectedValues.selectedStreet.$error.required">
                                                <span class="glyphicon glyphicon-exclamation-sign"></span>
                                                {{'ORGANIZATION_INVALID_STREET'
                                                | translate }}
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="form-group col-md-4">
                                        <label class="control-label">{{'HOUSE_TWO' | translate}}</label>
                                    </div>
                                    <div class="form-group col-md-8">
                                        <input name="building" type="text"
                                               ng-model="$root.organization.building"
                                               typeahead="building as building.designation for building in buildings | filter: $viewValue"
                                               class="form-control" required>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="form-group col-md-4">
                                        <label 	class="control-label">{{'FLAT' | translate}}</label>
                                    </div>
                                    <div class="form-group col-md-8">
                                        <input name="flat" type="text"
                                               ng-model="$root.organization.flat" class="form-control" required>
                                    </div>
                                    <div ng-show="$root.organization.$submitted || organizationForm.flat.$touched">
                                        <p class="validation-message has-error" ng-if="organizationForm.flat.$error.required">
                                            <span class="glyphicon glyphicon-exclamation-sign"></span>
                                            {{'REQUIRED' | translate}}
                                        </p>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-10">
                <button type="submit" class="btn btn-success"
                        >{{'EDIT_CHANGES' | translate}}
                </button>
            </div>
            <div class="form-group col-md-2">
                <button type="button" class="btn btn-danger pull-right" ng-click="closeModal()">{{'CLOSE' | translate}}</button>
            </div>

        </div>
            </div>

    </form>
</div>